<!DOCTYPE html>
<html lang="id">
<meta charset='UTF-8'/>
<meta content='width=device-width, initial-scale=1, user-scalable=1, minimum-scale=1, maximum-scale=5' name='viewport'/>
<meta content='IE=edge' http-equiv='X-UA-Compatible'/>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Shippori+Antique:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.all.min.js"></script>
<link href="https://feeldreams.github.io/heihbd/style.css" rel="stylesheet" type="text/css" />
<script src="https://unpkg.com/typeit@8.7.0/dist/index.umd.js"></script>
<script src="https://kit.fontawesome.com/4f3ce16e3e.js" crossorigin="anonymous"></script>

<head>
  <title>Happy Birthday</title>
  <link rel="icon" type="image/x-icon" href="ultah-removebg-preview.png">
  <meta name="description" content="HTML HBD.id">
</head>
<body>

  <!-- Ganti Audio di sini -->
  <audio src="monokrom.webm" id="linkmp3" class="sembunyi"></audio>
   
  <div id="bodyblur">
    <!-- Wallpaper --><img src="sakura2.png" id="wallpaper"/><div id="beneranblur"></div>
  </div>
   
  <div id='Content'>

    <div id="kadoIn">
      <!-- Tombol Surat --><img src="https://feeldreams.github.io/kadoin.png"/>
    </div>
    <p id="ket">Klik Kadonya!</p>

    <div class="kumpulanstiker">
      <!-- Stiker untuk Konten -->
      <img src="https://feeldreams.github.io/bunga.gif" id="fotostiker"/>
      <img src="https://feeldreams.github.io/pusn.gif" id="fotostiker1"/>
      <img src="https://feeldreams.github.io/pandacoklat.gif" id="fotostiker2"/>
      <img src="https://feeldreams.github.io/cilukba.gif" id="fotostiker3"/>
      <img src="https://feeldreams.github.io/pandakuning.gif" id="fotostiker4"/>
      <img src="https://feeldreams.github.io/emawh.gif" id="fotostiker5"/>
      
      <img src="https://feeldreams.github.io/pandacoklat.gif" id="fotostiker6"/>
    </div>
    
    <p id="halo" class="halo"></p>
    
    <div>
      <blockquote id='bq' data-text='ã‹¡'>
        <p id="kalimat">Aku Ada Sesuatu Nih</p>
        <p id="pesan1">Klik 4 LOVE di Bawah!</p>
        <div id="kolombaru">
          <li id="lv1">ğŸ¤</li>
          <li id="lv2">ğŸ¤</li>
          <li id="lv3">ğŸ¤</li>
          <li id="lv4">ğŸ¤</li>
        </div>
        <p id="pesan2">Tunggu...</p>
        <!-- Pesan dengan delay; awalnya opacity 0 -->
        <p id="pesan3" style="opacity:0;">Ciee.. Ada yang Ultah Nih</p>
        <p id="pesan4">Happy Birthday, </p>
        <p id="pesan5" class="gaya2">Nambah tua aja ya, hehe</p>
        <p id="pesan6" class="gaya2">Moga panjang umur biar tahun depan diucapin juga</p>
        <p id="pesan7" class="gaya2">Sehat selalu ya!</p>
        <p id="pesan8" class="gaya2">Canda wkwwk :v</p>
        <p id="pesan9" class="gaya2">Oh iya, semoga di hari spesialmu ini kamu dapat menjadi pribadi yang lebih baik yaa.. ğŸ¥³</p>
        <p id="pesan10" class="gaya2">Happy Level Up Day!! ğŸ¥³</p>
        <!-- Tombol Lanjut -->
        <p id="opsL">Klik untuk Lanjut</p>
      </blockquote>
    </div>

    <!-- Tombol Kirim Pesan -->
    <div id="Tombol"><a id="By">&#128140; Lanjut</a></div>

    <!-- Pesan Tambahan -->
    <p id="katatambahan" class="sembunyi">Gajadi deh soalnya kamu bau wleee ğŸ˜œ</p>
    
    <!-- Pesan Ditolak -->
    <div id="pesanditolak">
      <img id="stikerditolak" src="https://feeldreams.github.io/weee.gif"/>
      <p id="kataditolak">Yaudah kalo gamau mh ğŸ˜œ</p>
    </div>

  </div>

  <script>
    const body = document.querySelector("body");
    const swalst = Swal.mixin({
      timer: 2300,
      allowOutsideClick: false,
      showConfirmButton: false,
      timerProgressBar: true,
      imageHeight: 90,
    });
    audio = new Audio('' + linkmp3.src);
    ftganti = 0; fungsi = 0; fungsiAwal = 0; deffotostiker = fotostiker.src;
    function berjatuhan() {
      const heart = document.createElement("div");
      heart.className = "fas fa-snowflake";
      heart.style.left = (Math.random() * 90) + "vw";
      heart.style.animationDuration = (Math.random() * 3 + 2) + "s";
      body.appendChild(heart);
    }
    setInterval(function() {
      var heartArr = document.querySelectorAll(".fa-snowflake");
      if (heartArr.length > 100) { heartArr[0].remove(); }
    }, 100);
    Content.style = "opacity:1;margin-top:16vh";
    const swals = Swal.mixin({
      allowOutsideClick: false,
      cancelButtonColor: '#FF0040',
      imageHeight: 80,
    });
    
    document.getElementById("kadoIn").onclick = function() {
      if (fungsiAwal == 0) {
        audio.play();
        fungsiAwal = 1;
        kadoIn.style = "transition:all .8s ease;transform:scale(10);opacity:0";
        wallpaper.style = "transform: scale(1.5);";
        ket.style = "display:none";
        setTimeout(initengahan, 300);
        setTimeout(inipesan, 500);
      }
    }
    
    async function inipesan() {
      var { value: nama } = await swals.fire({
        title: 'Masukin Nama Kamu', input: 'text',
      });
      if (nama && nama.length < 11) {
        window.nama = nama;
        vketikhalo = "Hai, " + nama + " âœ¨";
        mulainama();
      } else {
        await swals.fire('Ups!', 'Nama tidak boleh kosong atau lebih dari 10 karakter, ya!');
        inipesan();
      }
    }
    
    //Variable Pertanyaan Akhir
    var tanya = 'Mau Kado Gak Nih? ğŸ˜¶';
    var opstanya = 'Ayo jawab ğŸ˜†';
    var tompositif = 'Mau';
    var tomnegatif = 'Engga';
      
    async function menuju() {
      pesanwhatsapp = "Makasii udah ngucapin " + nama + " ultah ><";
      await swals.fire('OK!', 'Kirim jawabannya ke WhatsApp aku, ya!', 'success');
      window.location = "https://api.whatsapp.com/send?phone=6285156071822&text=wahhh, terimakasih banget abagnku yang tampan."+ pesanwhatsapp;
    }
  </script>
  <script src="https://malasid.github.io/html/hbd.js"></script>
  <!-- Added script: Delay pesan dan pengaturan tombol dengan jarak tambahan -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Delay untuk menampilkan pesan "Ciee.. Ada yang Ultah Nih"
      var pesan3 = document.getElementById("pesan3");
      setTimeout(function(){
        pesan3.style.transition = "opacity 1s";
        pesan3.style.opacity = 1;
      }, 5000); // penundaan 3 detik
      
      // Atur posisi tombol agar sejajar dan beri jarak (misalnya agar teks "Ayo jawab" tidak terlalu dempet dengan tombol)
      var interval = setInterval(function() {
        var buttons = document.querySelectorAll("button");
        var btnMau, btnEngga;
        buttons.forEach(function(btn) {
          if (btn.textContent.trim() === tompositif) {
            btnMau = btn;
          }
          if (btn.textContent.trim() === tomnegatif) {
            btnEngga = btn;
          }
        });
        if (btnMau && btnEngga) {
          // Tetapkan posisi absolute dan posisi awal dengan satuan persen agar responsif
          btnMau.style.position = "absolute";
          btnEngga.style.position = "absolute";
          // Tempatkan tombol secara sejajar dengan jarak dari teks pilihan (misalnya top: 85%)
          btnEngga.style.left = "20%";
          btnEngga.style.top = "85%";
          btnMau.style.left = "60%";
          btnMau.style.top = "85%";
          
          // Tombol "Mau" berpindah secara acak saat mouseover tanpa menimpa tombol "Engga"
          btnMau.addEventListener("mouseover", function() {
            var nonOverlap = false;
            var newLeft, newTop;
            while (!nonOverlap) {
              newLeft = Math.floor(Math.random() * (window.innerWidth - btnMau.offsetWidth));
              newTop = Math.floor(Math.random() * (window.innerHeight - btnMau.offsetHeight));
              btnMau.style.left = newLeft + "px";
              btnMau.style.top = newTop + "px";
              var rectMau = btnMau.getBoundingClientRect();
              var rectEngga = btnEngga.getBoundingClientRect();
              if (!(rectMau.right > rectEngga.left &&
                    rectMau.left < rectEngga.right &&
                    rectMau.bottom > rectEngga.top &&
                    rectMau.top < rectEngga.bottom)) {
                nonOverlap = true;
              }
            }
          });
          // Cegah klik pada tombol "Mau"
          btnMau.addEventListener("click", function(e) {
            e.preventDefault();
          });
          clearInterval(interval);
        }
      }, 500);
    });
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Asumsi: tombol "Mau" memiliki id "btnMau" dan tombol "Engga" memiliki id "btnEngga"
      var btnMau = document.getElementById("btnMau");
      var btnEngga = document.getElementById("btnEngga");
    
      if (!btnMau || !btnEngga) {
        console.error("Tombol btnMau atau btnEngga tidak ditemukan di dalam DOM.");
        return;
      }
    
      // Fungsi untuk memindahkan tombol "Mau" ke posisi acak tanpa menabrak tombol "Engga"
      function moveBtnMauRandom() {
        var nonOverlap = false;
        var newLeft, newTop;
        // Pastikan tombol memiliki posisi absolute agar bisa dipindahkan
        btnMau.style.position = "absolute";
        while (!nonOverlap) {
          newLeft = Math.floor(Math.random() * (window.innerWidth - btnMau.offsetWidth));
          newTop = Math.floor(Math.random() * (window.innerHeight - btnMau.offsetHeight));
          btnMau.style.left = newLeft + "px";
          btnMau.style.top = newTop + "px";
          
          // Dapatkan posisi dan dimensi kedua tombol
          var rectMau = btnMau.getBoundingClientRect();
          var rectEngga = btnEngga.getBoundingClientRect();
          
          // Cek agar tombol "Mau" tidak menabrak tombol "Engga"
          if (!(rectMau.right > rectEngga.left &&
                rectMau.left < rectEngga.right &&
                rectMau.bottom > rectEngga.top &&
                rectMau.top < rectEngga.bottom)) {
            nonOverlap = true;
          }
        }
      }
    
      // Event handling berdasarkan jenis perangkat
      if ('ontouchstart' in window || navigator.maxTouchPoints > 0) {
        // Untuk perangkat sentuh (handphone/tablet)
        btnMau.addEventListener("touchstart", function(e) {
          moveBtnMauRandom();
          e.preventDefault(); // Cegah perilaku default sentuhan
        });
      } else {
        // Untuk desktop, gunakan event mouseover dan click
        btnMau.addEventListener("mouseover", function() {
          moveBtnMauRandom();
        });
        // Opsional: juga bisa gunakan event click
        btnMau.addEventListener("click", function() {
          moveBtnMauRandom();
        });
      }
    });
    </script>
    
  <!-- Sampai Sini -->
</body>
</html>
